/*
//------------------------------------------------------
//  –û–±—Ö–æ–¥—ã –¥–≤–æ–∏—á–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ üå≤üå≥üå≤
//------------------------------------------------------ 
//  –û–±—Ö–æ–¥—ã –≤ –≥–ª—É–±–∏–Ω—É DFS (Depth First Traversals)
//------------------------------------------------------ 
–¥–µ—Ä–µ–≤–æ:

                1                       A           A,B,C - Preorder
            2       5               B       C       B,A,C - Inorder
        3       4                                   B,C,A - Postorder

–°—É—â–µ—Å—Ç–≤—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ö–æ–¥–∞ –¥–≤–æ–∏—á–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –¥–µ—Ä–µ–≤–∞:
üå≤ Preorder (Root, Left, Right) : 1 2 3 4 5
üå≤ Inorder (Left, Root, Right) : 3 2 4 1 5
üå≤ Postorder (Left, Right, Root) : 3 4 2 5 1

–û—Ç–ª–∏—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º —Å—Ç—Ä–æ—á–∫–∏ printf("%d ",root->key); –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏

*/

#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>

// –£–∑–µ–ª –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞
typedef struct tree {
    int key;                 // –∑–Ω–∞—á–µ–Ω–∏–µ (–∫–ª—é—á) —É–∑–ª–∞
    struct tree *left;       // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
    struct tree *right;      // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
    struct tree *parent;     // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è (–∑–¥–µ—Å—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
} tree;

//------------------------------------------------------
// Preorder (Root, Left, Right)
// –û–±—Ö–æ–¥ –≤ –≥–ª—É–±–∏–Ω—É –≤ –ø–æ—Ä—è–¥–∫–µ: –∫–æ—Ä–µ–Ω—å, –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ.
// –î–ª—è –¥–µ—Ä–µ–≤–∞:
//          1
//        /   \
//       2     5
//      / \
//     3   4
// –ø–æ—Ä—è–¥–æ–∫ –±—É–¥–µ—Ç: 1 2 3 4 5
//------------------------------------------------------
void preorder(tree *root)
{
    if (root == NULL)
        return;                     // –ø—É—Å—Ç–æ–π –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî –≤—ã—Ö–æ–¥–∏–º

    // 1. –°–Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º (–ø–µ—á–∞—Ç–∞–µ–º) —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª ‚Äî Root
    printf("%d ", root->key);

    // 2. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî Left
    if (root->left)
        preorder(root->left);

    // 3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî Right
    if (root->right)
        preorder(root->right);
}

//------------------------------------------------------
// Inorder (Left, Root, Right)
// –°–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π –æ–±—Ö–æ–¥: –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –∫–æ—Ä–µ–Ω—å, –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ.
// –î–ª—è –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞ –¥–∞—ë—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –∫–ª—é—á–µ–π.
// –î–ª—è –¥–∞–Ω–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ—Ä—è–¥–æ–∫: 3 2 4 1 5
//------------------------------------------------------
void inorder(tree *root)
{
    if (root == NULL)
        return;

    // 1. –°–Ω–∞—á–∞–ª–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî Left
    if (root->left)
        inorder(root->left);

    // 2. –ó–∞—Ç–µ–º —Å–∞–º —É–∑–µ–ª ‚Äî Root
    printf("%d ", root->key);

    // 3. –í –∫–æ–Ω—Ü–µ ‚Äî –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî Right
    if (root->right)
        inorder(root->right);
}

//------------------------------------------------------
// Postorder (Left, Right, Root)
// –û–±—Ö–æ–¥: –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –∫–æ—Ä–µ–Ω—å.
// –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ (free —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö).
// –î–ª—è –Ω–∞—à–µ–≥–æ –¥–µ—Ä–µ–≤–∞: 3 4 2 5 1
//------------------------------------------------------
void postorder(tree *root)
{
    if (root == NULL)
        return;

    // 1. –°–Ω–∞—á–∞–ª–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî Left
    if (root->left)
        postorder(root->left);

    // 2. –ó–∞—Ç–µ–º –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Äî Right
    if (root->right)
        postorder(root->right);

    // 3. –ò —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º ‚Äî –∫–æ—Ä–µ–Ω—å ‚Äî Root
    printf("%d ", root->key);
}

//------------------------------------------------------
// main ‚Äî –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—ë–º –¥–µ—Ä–µ–≤–æ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º —Ç—Ä–∏ –æ–±—Ö–æ–¥–∞ DFS
//------------------------------------------------------
int main(void)
{
    tree *tr = NULL;

    // –°–æ–∑–¥–∞—ë–º –∫–æ—Ä–µ–Ω—å
    tr = calloc(1, sizeof(tree));
    tr->key = 1;

    // –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ –∫–æ—Ä–Ω—è
    tr->right = calloc(1, sizeof(tree));
    tr->right->key = 5;

    // –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ –∫–æ—Ä–Ω—è
    tr->left = calloc(1, sizeof(tree));
    tr->left->key = 2;

    // –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ —É–∑–ª–∞ 2
    tr->left->left = calloc(1, sizeof(tree));
    tr->left->left->key = 3;

    // –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ —É–∑–ª–∞ 2
    tr->left->right = calloc(1, sizeof(tree));
    tr->left->right->key = 4;

    /*
        –ü–æ–ª—É—á–∏–≤—à–µ–µ—Å—è –¥–µ—Ä–µ–≤–æ:

                 1
               /   \
              2     5
             / \
            3   4

        –î–ª—è –Ω–µ–≥–æ:
        Preorder:   1 2 3 4 5
        Inorder:    3 2 4 1 5
        Postorder:  3 4 2 5 1
    */

    printf("DFS Preorder\n");
    preorder(tr);
    printf("\n");

    printf("DFS Inorder\n");
    inorder(tr);
    printf("\n");

    printf("DFS Postorder\n");
    postorder(tr);
    printf("\n");

    return 0;
}