/*
//------------------------------------------------------
//  –û–±—Ö–æ–¥—ã –¥–≤–æ–∏—á–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ üå≤üå≥üå≤
//------------------------------------------------------ 
//  –û–±—Ö–æ–¥ –≤ —à–∏—Ä–∏–Ω—É BFS (Breadth First Traversal)
//------------------------------------------------------ 
–¥–µ—Ä–µ–≤–æ:

                1                    
            2       5               
        3       4                                   

-> 1 ->
-> 2 -> 5 ->
-> 3 -> 4

int heightTree(tree* p){
    //1. –í—ã—á–∏—Å–ª—è–µ–º –≤—ã—Å–æ—Ç—É –¥–µ—Ä–µ–≤–∞
}
void printCurrentLevel(tree* root, int level){
    //2. –ü–µ—á–∞—Ç–∞–µ–º –≤—Å–µ —É–∑–ª—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ level
}
void printBFS(tree* root){
    //3. –§—É–Ω–∫—Ü–∏—è –ø–µ—á–∞—Ç–∏
}

–î–ª—è —ç—Ç–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏. –û–¥–Ω–∞ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö 
–ø–µ—á–∞—Ç–∞–µ—Ç —É–∑–ª—ã –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ, –≤—Ç–æ—Ä–∞—è –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –¥–µ—Ä–µ–≤–∞. 
–î–ª—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç: 1 2 5 3 4.
*/

#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>

// –£–∑–µ–ª –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞
typedef struct tree {
    int key;                 // –∑–Ω–∞—á–µ–Ω–∏–µ (–∫–ª—é—á) —É–∑–ª–∞
    struct tree *left;       // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
    struct tree *right;      // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
    struct tree *parent;     // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è (–≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
} tree;

//------------------------------------------------------
// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –¥–µ—Ä–µ–≤–∞
// –í—ã—Å–æ—Ç–∞ –ø—É—Å—Ç–æ–≥–æ –¥–µ—Ä–µ–≤–∞ = 0
// –í—ã—Å–æ—Ç–∞ –Ω–µ–ø—É—Å—Ç–æ–≥–æ = max(–≤—ã—Å–æ—Ç–∞ –ª–µ–≤–æ–≥–æ, –ø—Ä–∞–≤–æ–≥–æ) + 1
//------------------------------------------------------
int heightTree(tree* p)
{
    if (p == NULL)
        return 0;  // –µ—Å–ª–∏ —É–∑–ª–∞ –Ω–µ—Ç ‚Äî –≤—ã—Å–æ—Ç–∞ 0
    else 
    {
        // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã—á–∏—Å–ª—è–µ–º –≤—ã—Å–æ—Ç—É –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
        int lheight = heightTree(p->left);
        int rheight = heightTree(p->right);

        // –≤—ã—Å–æ—Ç–∞ ‚Äî –º–∞–∫—Å–∏–º—É–º –∏–∑ –¥–≤—É—Ö –≤—ã—Å–æ—Ç + 1 –∑–∞ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª
        if (lheight > rheight)
            return (lheight + 1);
        else
            return (rheight + 1);
    }
}

//------------------------------------------------------
// –ü–µ—á–∞—Ç—å –≤—Å–µ—Ö —É–∑–ª–æ–≤ –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ (level)
// level = 1 ‚Äî –ø–µ—á–∞—Ç–∞–µ–º —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª
// level > 1 ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–ø—É—Å–∫–∞–µ–º—Å—è –≤–ª–µ–≤–æ –∏ –≤–ø—Ä–∞–≤–æ, —É–º–µ–Ω—å—à–∞—è level
//------------------------------------------------------
void printCurrentLevel(tree* root, int level)
{
    if (root == NULL)
        return;                 // –Ω–µ—Ç —É–∑–ª–∞ ‚Äî –Ω–µ—á–µ–≥–æ –ø–µ—á–∞—Ç–∞—Ç—å

    else if (level == 1)        // ¬´–¥–æ—à–ª–∏¬ª –¥–æ –Ω—É–∂–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
        printf("%d ", root->key);

    else if (level > 1) 
    {
        // –°–Ω–∞—á–∞–ª–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –ø–æ—Ç–æ–º –ø—Ä–∞–≤–æ–µ.
        // –ï—Å–ª–∏ –ø–æ–º–µ–Ω—è—Ç—å –≤—ã–∑–æ–≤—ã –º–µ—Å—Ç–∞–º–∏, –ø–æ—Ä—è–¥–æ–∫ –≤—ã–≤–æ–¥–∞
        // –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–≤–Ω—è –∏–∑–º–µ–Ω–∏—Ç—Å—è (—Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ).
        printCurrentLevel(root->left,  level - 1);
        printCurrentLevel(root->right, level - 1);
    }
}

//------------------------------------------------------
// –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ –≤ —à–∏—Ä–∏–Ω—É (BFS) —á–µ—Ä–µ–∑ —É—Ä–æ–≤–Ω–∏
// 1) –Ω–∞—Ö–æ–¥–∏–º –≤—ã—Å–æ—Ç—É –¥–µ—Ä–µ–≤–∞,
// 2) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è –æ—Ç 1 –¥–æ h –ø–µ—á–∞—Ç–∞–µ–º –≤—Å–µ —É–∑–ª—ã —ç—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è.
//------------------------------------------------------
void printBFS(tree* root)
{
    int h = heightTree(root);        // –≤—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞

    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤—ã–∑—ã–≤–∞–µ–º printCurrentLevel
    for (int i = 1; i <= h; i++)
        printCurrentLevel(root, i);
}

//------------------------------------------------------
// main ‚Äî —Ä—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∏ –æ–±—Ö–æ–¥ BFS
//------------------------------------------------------
int main(void)
{
    tree *tr = NULL;

    // –°–æ–∑–¥–∞—ë–º –∫–æ—Ä–µ–Ω—å
    tr = calloc(1, sizeof(tree));
    tr->key = 1;

    // –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ –∫–æ—Ä–Ω—è
    tr->right = calloc(1, sizeof(tree));
    tr->right->key = 5;

    // –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ –∫–æ—Ä–Ω—è
    tr->left = calloc(1, sizeof(tree));
    tr->left->key = 2;

    // –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ —É–∑–ª–∞ —Å –∫–ª—é—á–æ–º 2
    tr->left->left = calloc(1, sizeof(tree));
    tr->left->left->key = 3;

    // –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫ —É–∑–ª–∞ —Å –∫–ª—é—á–æ–º 2
    tr->left->right = calloc(1, sizeof(tree));
    tr->left->right->key = 4;

    /*
        –ü–æ–ª—É—á–∏–≤—à–µ–µ—Å—è –¥–µ—Ä–µ–≤–æ:

                 1
               /   \
              2     5
             / \
            3   4

        –£—Ä–æ–≤–Ω–∏:
        —É—Ä–æ–≤–µ–Ω—å 1:          1
        —É—Ä–æ–≤–µ–Ω—å 2:        2   5
        —É—Ä–æ–≤–µ–Ω—å 3:       3 4

        –û–±—Ö–æ–¥ –≤ —à–∏—Ä–∏–Ω—É (BFS) –ø–æ —É—Ä–æ–≤–Ω—è–º: 1 2 5 3 4
    */

    printf("BFS\n");      // –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: 1 2 5 3 4
    printBFS(tr);
    printf("\n");

    return 0;
}