//------------------------------------------------------
// Библиотека time.h
// Работаем со временем меньше одной секунды
//------------------------------------------------------
// Если нужна точность выше, чем 1 секунда:
// используем функцию clock() и константу CLOCKS_PER_SEC
//------------------------------------------------------
// ВАЖНО: разница между time() и clock()
//   time(NULL):
//     - возвращает "реальное" календарное время (кол-во секунд с 1.01.1970)
//     - точность: обычно 1 секунда
//     - удобно для: текущая дата/время, измерения в секундах
//
//   clock():
//     - возвращает количество тактов процессорного времени,
//       затраченного программой
//     - точность: обычно намного выше 1 секунды
//     - удобно для: измерения коротких интервалов выполнения кода
//       (профилирование, задержки меньше секунды)
//     - перевод в секунды: (double)clock() / CLOCKS_PER_SEC
//------------------------------------------------------

#include <stdio.h>   // стандартная библиотека ввода-вывода
#include <time.h>    // библиотека работы со временем (clock, CLOCKS_PER_SEC)

//------------------------------------------------------
// Глобальная переменная DELAY
// Хранит требуемую задержку в секундах (тип double)
//------------------------------------------------------
double DELAY = 3;

int main(void) {
    //--------------------------------------------------
    // Сохраняем текущее значение счётчика тактов clock()
    // clock_t — тип, возвращаемый функцией clock()
    // begin — "время старта" программы (в тактах)
    //--------------------------------------------------
    clock_t begin = clock();

    //--------------------------------------------------
    // Цикл "ожидания" (busy wait)
    // (clock() - begin) — сколько тактов прошло
    // Делим на CLOCKS_PER_SEC, чтобы получить секунды
    // Выполняем цикл, пока не пройдет DELAY секунд
    //--------------------------------------------------
    while ((double)(clock() - begin) / CLOCKS_PER_SEC < DELAY) 
    {
        // Если раскомментировать строку ниже, можно
        // наблюдать, как растёт значение clock()
         printf("%4ld\n", (long)clock());
    }

    //--------------------------------------------------
    // Выводим строку и значение CLOCKS_PER_SEC
    // CLOCKS_PER_SEC — количество "тактов" в одной секунде,
    // используется для перевода результата clock() в секунды
    //--------------------------------------------------
    printf("Hello World %ld\n", CLOCKS_PER_SEC);

    return 0;   // Успешное завершение программы
}