/*
-
//------------------------------------------------------
// Пример сравнения объектов
//------------------------------------------------------
*/

#include <stdio.h>

// Может сравнивать любые указатели
// void* — обобщённый тип указателя: "указатель на что‑угодно"
// Здесь нас интересует только СРАВНЕНИЕ адресов, а не чтение по ним.
_Bool is_same(void *a, void *b)
{
    // Разыменовывать void* НЕЛЬЗЯ:
    // *a == *b;    // ОШИБКА компиляции, т.к. тип неполный (void)
    //
    // Для void* разрешены только операции:
    // - присваивания
    // - сравнения (==, !=)
    // - приведение к другому типу указателя
    //
    // Поэтому здесь мы просто сравниваем сами адреса:
    return a == b;
}

int main(void)
{
    int a = 5;     // обычная переменная типа int
    int *pa = &a;  // указатель на a

    // is_same(&a, pa):
    //   &a — адрес переменной a (тип int*)
    //   pa — тоже адрес переменной a (тип int*)
    //
    // При передаче в is_same оба аргумента неявно приводятся к void*,
    // поэтому внутри функции сравниваются два одинаковых адреса.
    //
    // Результат:
    //   is_same(...) вернёт 1 (истина), значит выведется "Same".
    is_same(&a, pa) ? printf("Same\n") : printf("Different\n");

    return 0;
}