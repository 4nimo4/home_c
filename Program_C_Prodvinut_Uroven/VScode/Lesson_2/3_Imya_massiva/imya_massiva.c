/*
//------------------------------------------------------
//        Имя массива
//------------------------------------------------------
// Имя массива — это константный указатель на его первый элемент.
// То есть в выражениях (кроме sizeof и &a) a "становится" указателем
// типа "указатель на первый элемент массива".
//------------------------------------------------------
*/

#include <stdio.h>

int main(void) 
{
    // Объявляем массив из 5 целых int.
    // На типичной 64‑битной системе int занимает 4 байта,
    // значит под массив a[5] выделяется 5 * 4 = 20 байт подряд в памяти.
    int a[5] = {1,2,3,4,5}; // в памяти выделено 20 байт

    // Объявляем константный указатель на константный int:
    //   const int * const pa;
    //
    // - const int * pa   : нельзя менять значение по адресу (нельзя писать *pa = ...),
    // - ... * const pa   : нельзя менять сам указатель (нельзя писать pa = ...).
    //
    // Инициализируем его адресом первого элемента массива a.
    // &a[0] имеет тип int*, который неявно приводится к const int*.
    const int * const pa = &a[0]; // в памяти выделено 8 байт (размер указателя на 64‑битной системе)

    // Объявляем указатель на long long int.
    // Сам указатель занимает, как правило, 8 байт, независимо от типа,
    // на который он указывает.
    long long int *pb; // в памяти выделено 8 байт (сам указатель)

    // Объявляем указатель на short int.
    short int *pc; // в памяти выделено 8 байт (сам указатель)

    // sizeof(pa)  — размер самого указателя pa (обычно 8 байт на 64‑битной системе).
    // sizeof(*pa) — размер объекта, на который указывает pa, то есть sizeof(const int),
    //               обычно 4 байта.
    printf("%ld %ld\n", sizeof(pa), sizeof(*pa));

    // Аналогично:
    // sizeof(pb)  — размер указателя на long long (такой же, как и у других указателей),
    // sizeof(*pb) — размер типа long long int (часто 8 байт).
    printf("%ld %ld\n", sizeof(pb), sizeof(*pb));

    // sizeof(pc)  — размер указателя на short int (обычно 8 байт),
    // sizeof(*pc) — размер типа short int (часто 2 байта).
    printf("%ld %ld\n", sizeof(pc), sizeof(*pc));

    // a = &a[2];    // ОШИБКА!
    // Имя массива a НЕ является обычной переменной-указателем.
    // Это "константный указатель": ему НЕЛЬЗЯ присвоить другое значение.
    // Поэтому попытка изменить a как указатель запрещена.

    // pa = &a[1];   // Нельзя менять константный указатель pa.
    // В объявлении pa стоит второе const (после *), оно запрещает
    // изменять сам адрес в pa.

    // pb = &a[1];
    // Можно присвоить pb адрес элемента массива a[1],
    // но pb имеет тип long long int*, а &a[1] — int*.
    // Это небезопасное приведение типов (формально нужно явное cast),
    // и интерпретация данных через pb может быть неверной.

    // pb[2] = 100;
    // Если раскомментировать строки выше и эту, pb[2] означало бы:
    //   *(pb + 2) = 100;
    // Но pb указывает на память, где реально хранятся int, а не long long int,
    // поэтому запись через pb исказит данные массива и может привести
    // к неопределённому поведению.

    return 0;
}