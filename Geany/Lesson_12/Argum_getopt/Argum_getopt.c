/*
    –¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

    –í —Å–∏—Å—Ç–µ–º–µ Linux —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –≤–∏–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ –¥–ª–∏–Ω–Ω—ã–µ.
‚óè –ö–æ—Ä–æ—Ç–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ –¥–µ—Ñ–∏—Å–∞ –∏ –∏–º–µ—é—Ç –¥–ª–∏–Ω—É –≤ –æ–¥–∏–Ω
    —Å–∏–º–≤–æ–ª, –∏—Ö –ø—Ä–æ—Å—Ç–æ –∏ –±—ã—Å—Ç—Ä–æ –Ω–∞–±–∏—Ä–∞—Ç—å –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
‚óè –î–ª–∏–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –¥–≤—É—Ö –¥–µ—Ñ–∏—Å–æ–≤ –∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥–ª–∏–Ω–Ω–æ–µ
    –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö (—á—Ç–æ–±—ã –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ
    –±—ã–ª–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –∏ –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç)
‚óè –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –ª—é–±–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –º–æ–∂–µ—Ç –∏ –Ω–µ –∏–º–µ—Ç—å.

-h              - –∫–æ—Ä–æ—Ç–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä
--help          - –¥–ª–∏–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
-s 10           - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
--size 10
--size=10

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ Visual Studio Code –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
—Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏:

Windows: Shift + Alt + F
Mac:     Shift + Option + F
Ubuntu:     Ctrl + Shift + I

//-------------------------------------
–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
–ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö
–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
‚óè int getopt(...) - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚óè int getopt_long(...) - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ –¥–ª–∏–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚óè int getopt_long_only(...) - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ–ª—å–∫–æ –∫–∞–∫ –¥–ª–∏–Ω–Ω—ã–µ

‚óè–§—É–Ω–∫—Ü–∏—è getopt –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ
–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É. –î–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
int getopt(int argc, char * const argv[],const char *optstring);
‚óè‚óè‚óè–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ argc
–º–∞—Å—Å–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ argv[]
—Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ optstring, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è
–∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ç–æ–≥–æ, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã
–∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ.

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ getopt
‚ûî –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ a, b, F , —Ç–æ —Å—Ç—Ä–æ–∫–∞ optstring
–±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ "abF". (./prog -a -b -F)
‚ûî‚ûî–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–æ –ø–æ—Å–ª–µ –±—É–∫–≤—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å—Ç–∞–≤–∏—Ç—Å—è
–¥–≤–æ–µ—Ç–æ—á–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä–∞–º–µ—Ç—Ä F –∏ d –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã e, a –∏ b –Ω–µ
–∏–º–µ—é—Ç, —Ç–æ–≥–¥–∞ —Å—Ç—Ä–æ–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ "eF:ad:b". (./prog -e -F –ø–∞—Ä–∞–º ‚Äìa -d –ø–∞—Ä–∞–º -b)
–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Ç.–µ. –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —É–∫–∞–∑–∞–Ω–æ), —Ç–æ —Ç–æ–≥–¥–∞ —Å—Ç–∞–≤–∏—Ç—Å—è
–¥–≤–∞ –∑–Ω–∞–∫–∞ –¥–≤–æ–µ—Ç–æ—á–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä "a::" (./prog -a –Ω–µ –æ–±—è–∑. –ø–∞—Ä–∞–º)

#include <unistd.h>
int getopt(int argc, char * const argv[],const char *optstring);

–ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ getopt

 –î–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏—é getopt() –Ω–∞–¥–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤ —Ü–∏–∫–ª–µ!
while ( (rez = getopt(argc,argv,"ab:C::d")) != -1)
üëâ
 –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ rez –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –±—É–∫–≤–∞ ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –µ—Å–ª–∏
–∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—á–∏–ª–∏—Å—å, —Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ÓÇà1
üëâ
 –ò–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ optind, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ optarg
üëâ
üëâ–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä, –Ω–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π –≤ —Å–ø–∏—Å–∫–µ, —Ç–æ:
‚ö† –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ stderr
‚ö† –∫–æ–¥ –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ opterr
‚ö† –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è "?"
–í—ã–≤–æ–¥ –æ—à–∏–±–∫–∏ –º–æ–∂–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å opterr –≤ 0
//-----------------------------------------------------

                        // opterr=0;  // –û–ø—Ü–∏—è –≤—ã–∫–ª—é—á–µ–Ω–∞

–í–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—ã:
    gcc Argum_getopt.c
    ./a.out -a
–í—ã–≤–æ–¥:
    found argument "a".
–í–≤–æ–¥–∏–º:
    ./a.out -a -b 2
–í—ã–≤–æ–¥:
    found argument "a".
    found argument "b = 2".
–í–≤–æ–¥–∏–º:
    ./a.out -a -b 2 -h
–í—ã–≤–æ–¥: -
    found argument "a".
    found argument "b = 2".
    ./a.out: invalid option -- 'h'
    Error found !

//-------------------------------
–í–≤–æ–¥–∏–º:
    ./a.out -a -b -d -Chello
–í—ã–≤–æ–¥:
    found argument "a".
    found argument "b = -d".//–î–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞ b –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä
                            //–≤–æ—Ç –æ–Ω –∏ –≤–∑—è–ª –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ -d
    found argument "C = hello".
–í–≤–æ–¥–∏–º:
    ./a.out -a -b1 -C -d
–í—ã–≤–æ–¥:
    found argument "a".
    found argument "b = 1".
    found argument "C = (null)".
    found argument "d"
–í–≤–æ–¥–∏–º:
    ./a.out -b1 -b2 -b 15
–í—ã–≤–æ–¥:
    found argument "b = 1".
    found argument "b = 2".
    found argument "b = 15"

                                opterr=0; //–ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
        //,–¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ –≥–¥–µ-—Ç–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–π –≤—Å—Ç–∞–≤–∏—Ç—å opterr=0;

–í–≤–æ–¥–∏–º:
    ./a.out -a -b 2 -h -d
–í—ã–≤–æ–¥:
    found argument "a".
    found argument "b = 2".
    ./a.out: invalid option -- 'h'
    Error found !
    found argument "d"
–ü–µ—Ä–µ—Å–æ–±–µ—Ä–µ–º:
    gcc Argum_getopt.c
–í–≤–æ–¥–∏–º:
    ./a.out -h
–í—ã–≤–æ–¥:
    Error found !
*/

#include <stdio.h>
#include <unistd.h>
#include <bits/getopt_core.h>

int main(int argc, char *argv[])
{
    int rez = 0;
    opterr=0;
    // opterr=0;
    while ((rez = getopt(argc, argv, "ab:C::d")) != -1)
    {
        switch (rez)
        {
        case 'a':
            printf("found argument \"a\".\n");
            break;
        case 'b':
            printf("found argument \"b = %s\".\n", optarg);
            break;
        case 'C':
            printf("found argument \"C = %s\".\n", optarg);
            break;
        case 'd':
            printf("found argument \"d\"\n");
            break;
        case '?':
            printf("Error found !\n");
            break;
        }
    }
}